<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Temperature Tracker</title>
</head>
<body>
	<button onclick="FetchData()">Fetch Data</button>  
	<script>	
        function FetchData()
		{
			console.log("Hello!");
			const apiUrl = 'https://visual-crossing-weather.p.rapidapi.com/forecast?aggregateHours=24&location=Coimbatore%2C%20India%2CAsia&contentType=csv&unitGroup=us&shortColumnNames=0';
			const options = 
				{
					method: 'GET',
					headers: 
					{
						'X-RapidAPI-Key': 'fc2f16800dmshb6fbbbe866a53fdp11331cjsn91dc926a158a',
						'X-RapidAPI-Host': 'visual-crossing-weather.p.rapidapi.com'
					}
				};
			try 
				{
					const response = fetch(apiUrl);
					const result = response.text();
					console.log(result);
				} 
				catch (error) 
				{
					console.error(error);
				}
		} 
		if ('getBattery' in navigator) 
		{
			navigator.getBattery().then(function(battery) {
			console.log("Battery temperature:", battery.temperature);
			batteryTemperatures = battery.temperature;
			});
		} 
		else 
		{
			console.log("Battery Status API is not supported in this browser.");
		}
		function plotGraph(temperatures, batteryTemperatures) 
		{
            const ctx = document.getElementById('myChart').getContext('2d');
            const chart = new Chart(ctx,{
                type: 'line',
                data: {
                    labels: temperatures.map((_, index) => Hour ${index}),
                    datasets: [{
                        label: 'Local Temperature (°C)',
                        data: temperatures,
                        borderColor: 'rgba(255, 99, 132, 1)',
                        borderWidth: 1,
                        fill: false
                    },
                    {
                        label: 'Battery Temperature (°C)',
                        data: batteryTemperatures,
                        borderColor: 'rgba(54, 162, 235, 1)',
                        borderWidth: 1,
                        fill: false
                    }]
                },
                options: {
                    scales: {
                        yAxes: [{
                            ticks: {
                                beginAtZero: false
                            }
                        }]
                    }
                }
            });
        }
    </script>
      
</body>
</html>
